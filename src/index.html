<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <link href="https://fonts.googleapis.com/css?family=Indie+Flower" rel="stylesheet">

  <link rel="stylesheet" href="reveal/css/reveal.css">
  <link rel="stylesheet" href="reveal/css/theme/night.css">
  <link rel="stylesheet" href="reveal/lib/css/zenburn.css"/>

  <title>Twinkling Night Sky</title>
  <style>
    html, body {
      min-height: 100vh;
    }

    .title-headline.title-headline {
      font-family: 'Indie Flower', cursive;
    }

    body {
      margin: 0;
    }

    .night-sky {
      background-color: #333;
      z-index: -1;
      /* display: none; */
    }

    .btn-debug {
      position: fixed;
      bottom: 10px;
      right: 10px;
    }

    .interactive-stage {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
    }

    .l-col2 {
      display: grid;
      grid-template-columns: 1fr 1fr;
      grid-auto-rows: minmax(min-content, max-content);;
      /* align-items: flex-start; */
    }
    .l-col2.l-col2 img {
      max-height: none;
    }

    .custom-hot {
      color: blue;
    }

    .custom-cold {
      color: red;
    }

    .codepen-embed {
      width: 960px;
      height: 700px;
    }

    .relative {
      position: relative;
    }

    .full-slide-size {
      width: 960px;
      height: 700px;
    }
  </style>
</head>
<body>
  <div class="reveal">
      <div class="slides">

        <section data-background-image="images/looking-at-stars-romantic-travel.png">
          <h1 class="title-headline">Stargazing for developers</h1>
          <span class="title-headline">A twinkling night sky with shooting stars in SVG</span>

          <aside class="notes">
              Hello stargazers, let's build our own night sky with twinkling and shooting stars. We will use SVG, CSS and and JavaScript to our convenience. You will also learn awesome facts about the universe.
          </aside>
        </section>

        <section>
          about me
        </section>


        <section>
          A Journey to the stars.
          <aside class="notes">
            We want to build a night sky with SVG and some JavaScript. In order to be able to program such a thing we need to collect some facts first. That's why I will take you on a journey to the stars to gather them. When we have found a fact we will interpretate it creatively so we can transfer it into an implementation.

            That way we will build fact by fact our night sky. Let's start the journey.

          </aside>
        </section>

        <!-- Chapter 1 (Star) -->
        <section>
          <section
            data-background-opacity="0.5"
            data-background-image="images3/anatomy-star2.gif">
            <span>Chapter 01 </span>
            <h2>Anatomy of a star</h2>
            <aside class="notes">
              Let's look from what a star is made of with the goal of
              building a single star by ourselves.
            </aside>
          </section>

          <section>
            <img data-src="images3/orion-betelgeuse.png"/>
            <aside class="notes">
              A night sky consists mostly of little stars and that's where we begin. I want to explore a single star so we know how to build one. I picked a little star that we can see with our naked eye. It's called Betelgeuse and you can see it in the famous Orion constellation.
            </aside>
          </section>

          <section data-background-image="images/warp-01.gif">
            <aside class="notes">
              Betelgeuse is more than 600 light years away. We would travel for 600 years with light speed â€” with the superpower I can fast forward to save you some time ðŸ‘Š
            </aside>
          </section>

          <section>
            <img width="400" data-src="images/betelgeuse.jpg">
            <aside class="notes">
              We arrived! Say hello to Betelegeuse and let's ask our first question.
            </aside>
          </section>

          <section>
            <h2>What is a star ?</h2>
            <cite>A bright ball of gas with a nuclear fusion producing a lot of heat.</cite>
            <aside class="notes">
              What is a star ? The answer is [...]. The gas is usually hydrogen and helium and the nuclear fusion is melting those atoms together producing heavier carbon atoms.
            </aside>
          </section>

          <section>
            <img data-src="images3/gravity-fusion.jpg"/>
            <aside class="notes">
                Everything would fall apart because of the heat. It's the gravity that keeps everyhting in balance and shaped as a ball.
            </aside>
          </section>
          <section>
            <img data-src="images3/jupiter-and-saturn-great-conjunction.jpg"/>
            <aside class="notes">
                So is every gas ball a star? No, you really need the nuclear fusion.
                Just look at Saturn & Jupiter. They are gas giants, giant planets in our solar system. They have no nuclear fusion running, produce no heat and they are no stars for that reason.
            </aside>
          </section>

          <!-- Fact -->
          <section>
            <div class="fact">
              <span>First Star Fact!</span>
              <h2>âœ¨FUSION GAS BALLâœ¨</h2>
              <span>Idea: Create a SVG circle</span>
            </div>
          </section>

          <section>
            How do we implement it?
            <pre>
              <code data-trim>
                <svg viewBox="-10 -10 20 20" width="100">
                  <circle r="10" fill="yellow"></circle>
                </svg>
              </code>
            </pre>

            <svg viewBox="-10 -10 20 20" width="100" class="fragment">
              <circle r="10" fill="green"></circle>
            </svg>

            <aside class="notes">
                How do we implement it? We use a SVG circle. The circle is given a radius r and a color with the fill attribute. Once created it will look like a star. Well, a very rough one and the color green seems not right. This brings us directly to our next question.
            </aside>
          </section>

          <!-- Question -->
          <section>
            <cite>What's the color of a star ?</cite>
          </section>

          <section>
            <img data-src="images/sun-animation.gif"/>
            <aside class="notes">
                That's our sun burning its fuel. As mentioned before stars produce a lot of heat while they are burning its fuel. They reach million degrees celsius in their cores â€” but what counts is their surface temperatur.
            </aside>
          </section>
          <section>
            <div>
              <img width="300" data-src="images3/sun-shot.jpg"/>
              <br>
              <span>Sun 5778K (5505 Â°C)</span>
            </div>

            <div>
              <img width="300" data-src="images/betelgeuse.jpg"/>
              <br>
              <span>Betelgeuse 3500K (3227 Â°C)</span>
            </div>

            <aside class="notes">
                The sun has a surface temperatur of 5778K and Betelgeuse is much colder with 3500K. Both stars look reddish. You could think because they are hot. But it's the opposite. In reality the really, really hot stars are blue. They reach surface temperatures  of more than 30.000 Kelvin which equals a deep blue.
            </aside>
          </section>

          <section>
            <img data-src="images3/hottest-stars.png"/>
            <aside class="notes">
              In reality the really, really hot stars are blue. They reach surface temperatures of more than 30.000 Kelvin which equals a deep blue.
            </aside>
          </section>

          <section>
            <img data-src="images3/frequencies.jpg"/>
            <aside class="notes">
              If you have just wondered why blue is hotter than red, here a quick explanation. You can see the color spectrum in the image center.
            </aside>
          </section>

          <!-- Fact -->
          <section>
            <div class="fact">
              <span>New Star Fact!</span>
              <h2>âœ¨COLORâœ¨</h2>
              <span>Idea: Different fill colors</span>
            </div>

            <aside class="notes">
              Let's create some colored stars to prove our fact and to show how it looks in code.  We will start with a hot star and go down to a rather cool star.
            </aside>
          </section>

          <section>
            <pre>
              <code data-trim>
                  <svg viewbox="-10 -10 100 20" width="100">
                    <!-- 15000 Kelvin -->
                    <circle r="10" cx="0"  fill="#B5CDFF"></circle>
                    <!-- 5000 Kelvin -->
                    <circle r="10" cx="30" fill="#FFE4CE"></circle>
                    <!-- 2114 Kelvin -->
                    <circle r="10" cx="60" fill="#FF6C00"></circle>
                  </svg>
              </code>
            </pre>

            <svg viewbox="-10 -10 100 20" width="300">
              <!--   15000 Kelvin -->
              <circle r="10" cx="0"  fill="#B5CDFF"></circle>
              <!-- 5000 Kelvin -->
              <circle r="10" cx="30" fill="#FFE4CE"></circle>
              <!-- 2114 Kelvin -->
              <circle r="10" cx="60" fill="#FF6C00"></circle>
            </svg>

            <aside class="notes">
                Not too bad but all circles have the same size. Let's continue to our next question.
            </aside>
          </section>

          <!-- Question -->
          <section>
            <cite>How large is a star ?</cite>
            <aside class="notes">
                When you think the sun is large watch this.
                The sun is over 1 Mio kilometer in diameter but
            </aside>
          </section>

          <section>
            Earth > Sun > Eta Carinae<br>
             > Betelgeuse > VY Canis Majoris

            <video width="960" data-autoplay onended="Reveal.nextFragment();">
              <source data-src="videos/comparison.mp4" type="video/mp4" />
            </video>
          </section>

          <section>
            <img data-src="images/sun-canis-betel.png"/>
            <aside class="notes">
                YC Canis Majoris is the largest ever discovered star in the universe and look how small the sun is compared to it. This already brings us to the next fact!
            </aside>
          </section>

          <!-- Fact -->
          <section>
            <div class="fact">
              <span>New Star Fact!</span>
              <h2>âœ¨SIZEâœ¨</h2>
              <span>Idea: Different circle radii</span>
            </div>

            <aside class="notes">
              Let's plug in some different radii and look at the result.
            </aside>
          </section>

          <section>
            <pre>
              <code data-trim>
                <svg viewbox="-480 -350 960 700" width ="500">
                  <!-- 15000 Kelvin -->
                  <circle r="1000" cx="-1250"  fill="#B5CDFF"></circle>
                  <!-- 5000 Kelvin -->
                  <circle r="200" cx="40" fill="#FFE4CE"></circle>
                  <!-- 2114 Kelvin -->
                  <circle r="20" cx="340" fill="#FF6C00"></circle>
                </svg>
              </code>
            </pre>

            <svg viewbox="-480 -350 960 700" width ="400">
              <!-- 15000 Kelvin -->
              <circle r="1000" cx="-1250"  fill="#B5CDFF"></circle>
              <!-- 5000 Kelvin -->
              <circle r="200" cx="40" fill="#FFE4CE"></circle>
              <!-- 2114 Kelvin -->
              <circle r="20" cx="340" fill="#FF6C00"></circle>
            </svg>

            <aside class="notes">
                You can see how different we can size the circle by providing a different radius through the attribute r.
                But we will never create a night sky with circle that I create manual so here is a new idea.
            </aside>
          </section>

          <section>
            <h2>Building Dynamic Stars</h2>
            <aside class="notes">
                We looked at Betelgeuse to discover three facts: BALL, COLOR & SIZE
                and created different stars by assinging color and size to a circle.

                Let's use the power of JavaScript to create a function so we can easily create stars with code.
            </aside>
          </section>

          <section>
            <pre>
              <code data-trim>
                  function createStar({size, color, x, y}) {
                    const starShape = document.createElementNS("http://www.w3.org/2000/svg", 'circle');
                    starShape.setAttribute('r', size + '');
                    starShape.setAttribute('fill', color);

                    const star = createSVGElement('g');
                    star.setAttribute('transform', `translate($ {x} $ {y})`);

                    star.appendChild(starShape);
                    return star;
                  }
              </code>
              <code data-trim>
                  createStar({size: 10, color: '#B5CDFF': 0, y: 0})
              </code>
              <code data-trim>
                <g transform="translate(0 0)">
                  <circle r="10" fill="#B5CDFF"></circle>
                </g>
              </code>
            </pre>

            <aside class="notes">
              We will use <code>createStar</code> to create a star svg element which we can append to a svg.
              1. The function receives an object with size, color, x & y which we decompose.
              2. To create svg elements ee use the rather complex looking document.createElementNS.
              3. We will quickly switch over to a custom createSVGElement to save us from repeating the required namespace.
              4. You will recongize that starShape is filled with our circle tag we used so far including the assignments to fill and radius
              5. In addition I introduce a star element which is a svg group. A group is like a div
              there is no default visual appearance. We use the group to assign our position.
              6. We don't want to use the properties cx and cy from the circle as this moves the center of the circle which will affect future transformations of the circle.
            </aside>
          </section>

          <section>
            <div class="codepen codepen-embed"
                data-width="960"
                data-height="600"
                data-editable="true"
                data-theme-id="0"
                data-slug-hash="BvPzKL"
                data-default-tab="js,result"
                data-user="gkey">
            </div>

            <aside class="notes">
                The result looks like this and I can show you how easy I can add more stars now.
                We can now build endless amount of stars which means we are ready to build our night sky.

                To get a better image of what we are building let's travel back to earth first.
            </aside>
          </section>

          <section data-background-image="images/warp-speed-back.gif">

          </section>
        </section>

        <!-- Chapter 2 (The Sky) -->
        <section>
          <section data-background-image="images/night-sky.jpg">
            <span>Chapter 02 </span>
            <h1>Starry Night</h1>
            <aside class="notes">
                Arriving at the earth we can see the beautiful night sky and one question of a romantic stargazer is inevitable.
            </aside>
          </section>

          <section>
            <h2>How many stars are in the universe?</h2>
            <p class="fragment">More stars than the earth has sand grains!</p>
            <p class="fragment">10<sup>22</sup> - 10<sup>24</sup></p>

            <aside class="notes">
                That sounds nice but I need hard facts. Unfortunately science won't give us any exact number to work with. Sometimes they say 10<sup>22</sup> and sometimes 10<sup>24</sup>. That's not satisfying. So let's rephrase our question.
            </aside>
          </section>

          <section>
            <h3>How many stars can we see in the night sky?</h3>
            <h2 class="fragment" data-fragment-index="1">
              9096 <span class="fragment" data-fragment-index="4">(4548)</span>
            </h2>
            <span class="fragment" data-fragment-index="2">in a pitch black night</span>

            <aside class="notes">
                The answer is 9096. No more, no less. It's the number of stars we can see with our naked eye in a ptich black night. Actually the number is only half of it, as we can't see the sky of the other half of the earth. That cound get even worse when you think of light pollution.
            </aside>
          </section>

          <section
            data-background-size="contain"
            data-background-image="images3/night-sky-munich.png">
            <aside class="notes">
                Look at that image. It shows different night skies polluted by light from cities.

                More and more stars disappear from right to left. The poor souls who are living in Munich downtown can only see 25 stars in any given night. It gets slightly better if you move out to the suburbs. There you can see up to 250 stars. The milky way is almost not visible in this sky. You have to travel far from here to get a glimpse of a perfect night sky. It's somewhere in nowhere near Berlin as you can see in that map.

                Numbers are the Bortle scale (https://en.wikipedia.org/wiki/Bortle_scale)
            </aside>
          </section>

          <section>
            <img width="600" data-src="images3/darksitefinder_com2.png"/>
            darksitefinder.com

            <aside class="notes">
              You can see that dark spot here in the map from darksitefinder.com. And you can see how red are the large cities in Germany and also the mentioned good spot in East Germany (blue) north west of Berlin.
            </aside>
          </section>

          <!-- Fact -->
          <section>
            <div class="fact">
              <span>New Star Fact!</span>
              <h2>âœ¨STAR COUNTâœ¨</h2>
              <span>Idea: Create 350 random stars.</span>
            </div>

            <aside class="notes">
              Anyway we got a new fact! Star Count. Let's create a lot of stars.
              We can do this with our function `createStar` and we call it inside a for loop.
            </aside>
          </section>

          <section>
            <pre>
              <code data-trim>
                createSky({count: 350});

                function createSky({count}) {
                  for(let i = 0; i < count; i++) {
                    const coordinates = getRandomCoordinate() /*{x,y}*/;
                    const color = getRandomColor(),
                    const star = createStar({ color, size: 2, ...coordinates  });
                    svgElement.appendChild(star);
                  }
                }
              </code>
            </pre>
            <aside class="notes">
              That's the basic logic of creating the night sky. I abstracted away the position and color generation
              and the result looks like this.
            </aside>
          </section>

          <section>
            <div class="codepen codepen-embed"
                data-width="960"
                data-height="600"
                data-editable="true"
                data-theme-id="0"
                data-slug-hash="rorMpV"
                data-default-tab="result"
                data-user="gkey">
            </div>
            <aside class="notes">
              That was surprisingly easy â€” but something is missing. It looks really boring.
            </aside>
          </section>

          <section
            data-background-opacity="1"
            data-background-image="images/twinkle-sky.gif">
            <h1>Twinkling</h1>
            <aside class="notes">
              Twinkling of course! Like you can see in the background. In order to build it we need to ask what's twinkling?
            </aside>
          </section>

          <section>
            <h2>Astronomical Scintillation</h2>
            <cite>scintillation is a generic term for variations in apparent brightness or position of a distant luminous object viewed through a medium</cite>
          </section>

          <section data-background-image="images/pool.gif">
            <aside class="notes">
              In the end it's nothing more than the effect you can see in a pool with the difference that only stars can twinkle. You will never see planets, our Moon or Sun twinkle. Well you will never see again if you dare to look into the Sun.
            </aside>
          </section>

          <section>
            <video width="600" data-autoplay loop>
              <source data-src="videos/sirius-scintillation.mp4" type="video/mp4" />
            </video>
            <aside class="notes">
              That's Sirius (Dog Star). You can clearly see changes in brightness and position even color and shape. That brings us quickly to our next fact.
            </aside>
          </section>

          <section>
            <!-- Fact -->
            <div class="fact">
              <span>New Star Fact!</span>
              <h2>âœ¨Twinklingâœ¨</h2>
              <span>Idea: Two CSS animations (scale, opacity)</span>
              <aside class="notes">
                  We will implement this with some artistic simplifications. My plan is to create a star with two CSS animations attached. One will scale a star up and down and the second animation will change the opacity.
              </aside>
            </div>
          </section>

          <section>
            <!--
              codepen only, only the star animation.
              explain animations, CSS variables
            -->
            <aside class="notes">
              1)
                That's the idea applied. You can see the two animations to their work
                and you can see how I can adjust the parameters just by assigning different values
                to the CSS Variables.

              2)
                This don't look very promising. Shall we create our night sky that is commented out at the moment? And that's the result - this looks amazing, doesn't it ? ðŸ™Œ
            </aside>
          </section>
        </section>

        <!-- Chapter 3 (Shooting Stars) -->
        <section>
          <section data-background-image="images/shooting-01.gif">
            <span>Chapter 03 </span>
            <h2>Shooting Stars</h2>
          </section>
        </section>

        <!-- Chapter 4 (Parallax) -->
        <section>
          <section data-background-image="images/parallax-city.gif">
            <span>Bonus Chapter</span>
            <h1>Parallax Sky</h1>
          </section>
        </section>

        <!-- Conclusion -->
        <section>
          <section>
            <h1>Conclusion</h1>
          </section>
        </section>
      </div>
  </div>

  <button class="btn-debug" title="Toggle Debug View">ðŸš§</button>

  <script src="reveal/lib/js/head.min.js"></script>
  <script src="reveal/js/reveal.js"></script>
  <script src="reveal/plugin/markdown/marked.js"></script>
  <script src="reveal/plugin/markdown/markdown.js"></script>

  <script>
      Reveal.initialize({
        transition: 'none',
        history: true,
        // keyboard: {
        //   39: 'next',
        //   37: 'prev'
        // },
        dependencies: [
          {src: 'reveal/plugin/notes/notes.js'},
  		    { src: 'reveal/plugin/zoom-js/zoom.js', async: true },
          {src: 'reveal/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad();}}
	      ]
      });
  </script>

  <script async src="https://static.codepen.io/assets/embed/ei.js"></script>

</body>

</html>